<div class="relative flex min-h-screen w-full flex-col justify-center items-center overflow-hidden p-4 bg-background-light dark:bg-background-dark">
  <!-- Decorative Background -->
  <div class="absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none"></div>
  
  <div class="w-full max-w-[400px] flex flex-col gap-6 z-10">
    <!-- Header Section -->
    <div class="flex flex-col items-center gap-4 text-center">
      <div class="w-20 h-20 rounded-2xl bg-primary/20 flex items-center justify-center border border-primary/30 shadow-lg shadow-primary/10 backdrop-blur-sm">
        <span class="material-symbols-outlined text-primary text-4xl">security</span>
      </div>
      <div class="flex flex-col gap-1">
        <h2 class="text-2xl md:text-[28px] font-bold leading-tight tracking-tight text-slate-900 dark:text-white font-display">
          Centro de Monitoreo
        </h2>
        <p class="text-sm text-slate-500 dark:text-text-muted">
          Ingresa tus credenciales para acceder
        </p>
      </div>
    </div>

    <!-- Error Alert -->
    <div *ngIf="error" class="p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-red-600 dark:text-red-400 text-sm">
      {{ error }}
    </div>

    <!-- Login Form -->
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4 w-full mt-2">
      <!-- User Field -->
      <div class="flex flex-col gap-2">
        <label class="text-sm font-medium leading-normal text-slate-700 dark:text-white ml-1">Usuario</label>
        <div class="relative flex items-center">
          <span class="material-symbols-outlined absolute left-4 text-slate-400 dark:text-text-muted z-10">person</span>
          <input
            formControlName="username"
            type="text"
            placeholder="Usuario o correo"
            class="form-input flex w-full min-w-0 flex-1 resize-none rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-200 dark:border-border-dark bg-white dark:bg-surface-dark focus:border-primary h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted pl-12 pr-4 text-base font-normal leading-normal transition-all"
          />
        </div>
        <div *ngIf="submitted && f['username'].errors" class="text-red-500 text-xs mt-1">
          <p *ngIf="f['username'].errors['required']">Usuario es requerido</p>
        </div>
      </div>

      <!-- Password Field -->
      <div class="flex flex-col gap-2">
        <label class="text-sm font-medium leading-normal text-slate-700 dark:text-white ml-1">Contraseña</label>
        <div class="relative flex w-full items-stretch rounded-lg">
          <span class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 dark:text-text-muted z-10">lock</span>
          <input
            formControlName="password"
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Ingresa su contraseña"
            class="form-input flex w-full min-w-0 flex-1 resize-none rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-200 dark:border-border-dark bg-white dark:bg-surface-dark focus:border-primary h-14 placeholder:text-slate-400 dark:placeholder:text-text-muted pl-12 pr-12 text-base font-normal leading-normal transition-all rounded-r-none border-r-0"
          />
          <button
            type="button"
            (click)="togglePasswordVisibility()"
            class="flex items-center justify-center pr-4 pl-2 bg-white dark:bg-surface-dark border border-l-0 border-slate-200 dark:border-border-dark rounded-r-lg cursor-pointer group hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"
          >
            <span class="material-symbols-outlined text-slate-400 dark:text-text-muted group-hover:text-primary transition-colors">
              {{ showPassword ? 'visibility_off' : 'visibility' }}
            </span>
          </button>
        </div>
        <div *ngIf="submitted && f['password'].errors" class="text-red-500 text-xs mt-1">
          <p *ngIf="f['password'].errors['required']">Contraseña es requerida</p>
        </div>
      </div>

      <!-- Forgot Password Link -->
      <div class="flex justify-end pt-1">
        <a class="text-sm font-medium text-primary hover:text-blue-400 transition-colors" href="#">
          ¿Olvidaste tu contraseña?
        </a>
      </div>

      <!-- Login Button -->
      <button
        type="submit"
        [disabled]="loading"
        class="w-full h-14 mt-2 bg-primary hover:bg-blue-700 active:scale-[0.98] text-white text-base font-bold rounded-lg shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        <span *ngIf="!loading">Iniciar Sesión</span>
        <span *ngIf="loading" class="animate-spin">⟳</span>
        <span *ngIf="!loading" class="material-symbols-outlined text-[20px]">login</span>
      </button>
    </form>

    <!-- Sign Up Link -->
    <div class="mt-4 text-center">
      <p class="text-slate-500 dark:text-text-muted text-sm">
        ¿No tienes una cuenta?
        <button
          type="button"
          (click)="goToRegister()"
          class="text-primary font-bold hover:underline ml-1 bg-none border-none cursor-pointer"
        >
          Regístrate
        </button>
      </p>
    </div>

    <!-- Version Footer -->
    <div class="mt-8 text-center opacity-40">
      <p class="text-xs text-slate-500 dark:text-text-muted font-mono">v1.0.0</p>
    </div>
  </div>
</div>
